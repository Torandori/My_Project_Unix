import{r as s,j as e,b as f,L as b,f as k,n as I,_ as c,d as L,N as E,k as T}from"./index-a561fb05.js";/* empty css              */function y({respData:a}){const r=btoa(a.url);console.log("hashNewItem",r);const[l,d]=s.useState([{},{}]);s.useEffect(()=>{try{fetch("./pubdata/newsDetMockedData.json").then(o=>o.json()).then(o=>{d(o),console.log("respNewsItem",o)})}catch(o){console.log("err",o)}},[]);const i=Math.floor(Math.random()*l.length),n=l[i];return e.jsxs("div",{className:"news-list-item",children:[e.jsxs("div",{className:"author",children:[e.jsx("div",{className:"pic-wrap",children:e.jsx(f.LazyLoadImage,{src:n.authImg,alt:"Picture of "+n.authPosition,effect:"blur"})}),e.jsxs("div",{className:"text",children:[e.jsx("div",{children:a.author}),e.jsx("div",{children:n.authPosition})]})]}),e.jsx("div",{className:"restTopic",children:e.jsx(b,{to:`/news/${r}`,state:{newsData:a},className:"new-topic",title:"Go to news details",children:a.title})}),e.jsx("div",{className:"date-news",children:k(a.publish_date)}),e.jsx("div",{className:"poster-wrap card-hover",children:e.jsx(f.LazyLoadImage,{src:a.image??I,alt:a.title,effect:"blur"})})]})}const P=s.lazy(()=>c(()=>import("./index-a561fb05.js").then(a=>a.w),["assets/index-a561fb05.js","assets/index-254af1d4.css"])),m=s.lazy(()=>c(()=>import("./index-ffc4186e.js").then(a=>a.i),["assets/index-ffc4186e.js","assets/index-a561fb05.js","assets/index-254af1d4.css"])),x=s.lazy(()=>c(()=>import("./NewArrow-b62800e9.js"),["assets/NewArrow-b62800e9.js","assets/index-a561fb05.js","assets/index-254af1d4.css"])),D=s.lazy(()=>c(()=>import("./NewIt-abfc8cbb.js"),["assets/NewIt-abfc8cbb.js","assets/index-a561fb05.js","assets/index-254af1d4.css"]));function O(){const[r,l]=s.useState([]),[d,i]=s.useState(!0),n=s.useRef(0),o=s.useRef(),[N,j]=s.useState([{},{}]);s.useEffect(()=>{try{fetch("./pubdata/newsDetMockedData.json").then(t=>t.json()).then(t=>{j(t),console.log("respPosition",t)})}catch(t){console.log("err",t)}},[]);async function p(){if(n.current!==0)return!1;n.current++;const t=localStorage.getItem("newsLine"),u=+localStorage.getItem("LastNewsUpdate");if(t!==null&&new Date().getTime()-u<E)return l(JSON.parse(t)),i(!1),!1;try{const w=await T("./mock/mockNews.json",{timeout:15e3}).json();console.log("respNewsLine",w),l(w.news),localStorage.setItem("newsLine",JSON.stringify(w.news)),localStorage.setItem("lastNewsUpdate",new Date().getTime()),i(!1)}catch(h){console.log("err",h),P.error("Some error occured"),i(!1)}}if(s.useEffect(()=>{p()},[]),d)return e.jsx(L,{});const g={dots:!1,infinite:!0,speed:300,slidesToShow:1,slidesToScroll:1,lazyLoad:!0,arrows:!1},S={dots:!1,infinite:!0,speed:300,slidesToShow:3,slidesToScroll:1,lazyLoad:!0,arrows:!1,responsive:[{breakpoint:1360,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:800,settings:{slidesToShow:1,slidesToScroll:1}}]};function _(){o.current.slickPrev()}function v(){o.current.slickNext()}return e.jsxs("div",{className:"news-slider",children:[e.jsxs("div",{className:"newSlider","data-aos":"fade-right","data-aos-easing":"ease-out-cubic","data-aos-duration":"500",children:[e.jsxs("div",{className:"prev-next-arrows",children:[e.jsx("button",{type:"button",className:"prev",onClick:_,"aria-label":"Previous slide",children:e.jsx(s.Suspense,{fallback:"loading",children:e.jsx(x,{})})}),e.jsx("button",{type:"button",className:"next",onClick:v,"aria-label":"Next slide",children:e.jsx(s.Suspense,{fallback:"loading",children:e.jsx(x,{})})})]}),e.jsx(s.Suspense,{fallback:"loading",children:e.jsx(m,{...g,ref:o,children:r.map((t,u)=>e.jsx(D,{respData:t,randomIt:N[u]},t.id))})})]}),e.jsx("div",{className:"news-line","data-aos":"fade-left","data-aos-easing":"ease-out-cubic","data-aos-duration":"500",children:e.jsx("div",{className:"news-list",children:e.jsx(s.Suspense,{fallback:"loading",children:e.jsx(m,{...S,children:r.map(t=>e.jsx(y,{respData:t},t.id))})})})})]})}export{O as default};
